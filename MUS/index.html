<!DOCTYPE html>

<html lang="en">

<head>
    
<title>BUBBLES</title>
    
    <style>
        
        * {box-sizing:border-box;}
        
        html * {
            font-family: Sans;
        }
        circle._cir1 {
            fill: yellow;
            stroke: blue;
            stroke-width: 1.5px;
        }
        circle._cir2 {
            fill: #EEE;
            stroke: gray;
            stroke-width: 1.5px;
        }
        circle._cirm {
            fill: lightblue;
            stroke: blue;
            stroke-width: 1.5px;
        }
        circle.rLrg {
            r:24;
        }
        circle.rMed {
            r:18;
        }
        circle.r15 {
            r:15;
        }
        
        text { text-anchor: middle; stroke-width: 0.5px; font-weight:bold; }
        text.fsL { font-size:20pt; }
        text.fsM { font-size:14pt; }
        text.int1 { font-size:18pt; stroke:black; fill:black; }
        text.int2 { font-size:13pt; stroke:blue;  fill:blue; }
        text.int3 { font-size:17pt; stroke:black; fill:black; }
        
        td {
            height:133.3px;
            vertical-align: middle;
            text-align: center;
            border-collapse: collapse;
            border: 1px solid blue;
        }
        td.btn {
            font-size: 30pt;
            font-weight: bold;
            color: blue;
            background-color: #DDD;
            border: 0px solid black;
            height: 20px;
            padding: 0px 5px 0px 5px;
        }
        table {
            border: 1px solid blue;
            vertical-align: middle;
            border-collapse: collapse;
        }
        sup {
            font-size: small;
        }
        label {
            font-size:9.5pt;
            vertical-align:top;
        }
        label.nums {
            font-family:Arial;
        }
        label.roms {
            font-family:Times;
        }
    </style>

</head>

<body>

    <h3 align="center">BUBBLES v1.0</h3>

    <table align="center" cell-padding="0px">
        <tr>
            <td width="100px">&nbsp;</td>
            <td rowspan="3" style="padding:0px 10px 0px 10px;">
                <svg width="400" height="400" style="border: 0px solid black;">
                    <defs>
                        <path id="MyPath" 
                            d="M 336.75 309.25 m -21.5, 0 a 21.5,21.5 0 1,1 43,0 a 21.5,21.5 0 1,1 -43,0 Z" 
                            style="fill:none; stroke:gray; stroke-width:0.5" 
                            transform="rotate(-90,336.75,309.25)" 
                            />
                    </defs>
                    
                    <circle id="C1" class="_cir1 rLrg" cx="200" cy="25" />
                    <circle id="E1" class="_cir1 rMed" cx="200" cy="25" transform="rotate( 51.4286,200,200)" />
                    <circle id="G1" class="_cir1 rLrg" cx="200" cy="25" transform="rotate(102.8572,200,200)" />
                    <circle id="B1" class="_cir1 rMed" cx="200" cy="25" transform="rotate(154.2858,200,200)" />
                    <circle id="D1" class="_cir1 rMed" cx="200" cy="25" transform="rotate(205.7144,200,200)" />
                    <circle id="F1" class="_cir1 rLrg" cx="200" cy="25" transform="rotate(257.1430,200,200)" />
                    <circle id="A1" class="_cir1 rMed" cx="200" cy="25" transform="rotate(308.5716,200,200)" />

                    <circle id="D2" class="_cir2 rMed" cx="200" cy="25" transform="rotate( 25.7143,200,200)" />
                    <circle id="F2" class="_cir2 rLrg" cx="200" cy="25" transform="rotate( 77.1431,200,200)" />
                    <circle id="A2" class="_cirm rMed" cx="200" cy="25" transform="rotate(128.5717,200,200)" />
                    <circle id="C2" class="_cir2 rLrg" cx="200" cy="25" transform="rotate(180.0003,200,200)" />
                    <circle id="E2" class="_cir2 rMed" cx="200" cy="25" transform="rotate(231.4289,200,200)" />
                    <circle id="G2" class="_cir2 rLrg" cx="200" cy="25" transform="rotate(282.8575,200,200)" />
                    <circle id="B2" class="_cir2 rMed" cx="200" cy="25" transform="rotate(334.2861,200,200)" />
                    
                    <g id="notes">
                        <text id="tC0"  class="fsL" x="200"    y="34.7" >C</text>
                        <text id="tC1"  class="fsM" x="277.25" y="49"   >D</text>
                        <text id="tC2"  class="fsM" x="337"    y="98"   >E</text>
                        <text id="tC3"  class="fsL" x="370.7"  y="169"  >F</text>
                        <text id="tC4"  class="fsL" x="370.7"  y="248.5">G</text>
                        <text id="tC5"  class="fsM" x="337"    y="316.5">A</text>
                        <text>
                            <textPath   href="#MyPath" 
                                        startOffset="50%" 
                                        style="font-size:x-small; fill:blue; font-variant:small-caps">relative minor key</textPath>
                        </text> 
                        <text id="tC6"  class="fsM" x="277.25" y="365"  >B&deg;</text>
                        <text id="tC7"  class="fsL" x="200"    y="385"  >C</text>
                        <text id="tC8"  class="fsM" x="125.75" y="365"  >D</text>
                        <text id="tC9"  class="fsM" x="63"     y="316.5">E</text>
                        <text id="tC10" class="fsL" x="29.3"   y="248.5">F</text>
                        <text id="tC11" class="fsL" x="29.3"   y="169"  >G</text>
                        <text id="tC12" class="fsM" x="63"     y="98"   >A</text>
                        <text id="tC13" class="fsM" x="124.75" y="49"   >B&deg;</text>
                        
                        <!-- CENTER TEXT DISPLAY -->
                        <text id="tC15" class="fsL int" x="200" y="190">Key Signature</text>
                        <text id="tC14" class="fsL int" x="200" y="215">None</text>
                    </g>
                    
                    <g id="intervals">
                        <text id="intrv1"   class="int1" x="200"   y="75"   >1</text>
                        <text id="intrv2"   class="int2" x="258.2" y="86"   >2</text>
                        <text id="intrv3"   class="int2" x="304"   y="124"  >3</text>
                        <text id="intrv4"   class="int1" x="329"   y="179"  >4</text>
                        <text id="intrv5"   class="int1" x="329"   y="238.5">5</text>
                        <text id="intrv6"   class="int2" x="304"   y="289"  >6</text>
                        <text id="intrv7"   class="int2" x="258.2" y="326"  >7</text>
                        <text id="intrv8"   class="int1" x="200"   y="341.5">8</text>
                        <text id="intrv9"   class="int2" x="141.8" y="326"  >9</text>
                        <text id="intrv10"  class="int2" x="95.5"  y="289"  >10</text>
                        <text id="intrv11"  class="int3" x="70"    y="238.5">11</text>
                        <text id="intrv12"  class="int3" x="70"    y="178"  >12</text>
                        <text id="intrv13"  class="int2" x="95.5"  y="124"  >13</text>
                        <text id="intrv14"  class="int2" x="141.8" y="86"   >14</text>
                    </g>
                    
                    <!--g id="needle"><polyline points="199,180 200,55 195,65 205,65 200,55 201,180 199,180" stroke="black" stroke-width="1.5" /></g>
                    <g id="needle"><circle class="r15" cx="200" cy="67" style="fill:none; stroke-width:0.5; stroke:red;" /></g-->
                    <!--path class="needlePath" d="M100,200 C100,100 250,100 250,200 S400,300 400,200" /-->

                </svg>
            </td>
            <td width="100px" style="vertical-align:top; text-align:left;"><b>Interval view:</b><br />
                <label class="nums" for="radio0"><input type="radio" name="radio" id="radio0" value="0" checked /> 1,2,3,4...</label><br /><br />
                <label class="roms" for="radio1"><input type="radio" name="radio" id="radio1" value="1" /> I,ii,iii,IV...</label><br /><br />
                <label for="radio2"><input type="radio" name="radio" id="radio2" value="2" /> <b>M</b>ajor/<b>m</b>inor</label>
            </td>
        </tr>
        <tr>
            <td id="CW" class="btn" onclick="rotator(this.id)">&#8634;</td>
            <td id="CC" class="btn" onclick="rotator(this.id)">&#8635;</td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
        </tr>
    </table>
    
    <h3 align="center">Circle of 3<sup>rds</sup>, 4<sup>ths</sup> &amp; 5<sup>ths</sup></h3>
    <!--p align="center" id="demo"></p-->

    <script>
        /* Make border visible */
        //var
        
        /* Alias the degree multiplier */
        var multiplier = 0;

        /* Alias for degrees to rotate needle CW or CC when clicked */
        var degrees = 25.7145;
        
        /* Rotate the needle
            var needle = document.getElementById("needle") // Alias to manipulate the needle
            needle.setAttribute("transform", "rotate(" + degrees * 11 + ",200,200)");
        */
        
        /* PATH ATTRIBUTE REFERENCE TO DRAW A CIRCLE
        <path 
            d="
            M cx cy
            m -r, 0
            a r,r 0 1,1 (r * 2),0
            a r,r 0 1,1 -(r * 2),0
        />
        d="M 336.75 309.25 m -21.5, 0 a 21.5,21.5 0 1,1 43,0 a 21.5,21.5 0 1,1 -43,0 Z"
        
        function circlePath(cx, cy, r)
        {
            return 'M '+cx+' '+cy+' m -'+r+', 0 a '+r+','+r+' 0 1,1 '+(r*2)+',0 a '+r+','+r+' 0 1,1 -'+(r*2)+',0';
        }
        */

        /* Alias for 12 Key array */
        const majors = [
            ["C", "D", "E", "F", "G", "A", "B&deg;", "None"],
            ["G", "A", "B", "C", "D", "E", "F#&deg;","1#"],
            ["D", "E", "F#","G", "A", "B", "C#&deg;","2#"],
            ["A", "B", "C#","D", "E", "F#","G#&deg;","3#"],
            ["E", "F#","G#","A", "B", "C#","D#&deg;","4#"],
            ["B", "C#","D#","E", "F#","G#","A#&deg;","5#"],
            ["F#","G#","A#","B", "C#","D#","E#&deg;","6#"],
            ["C#","D#","E#","F#","G#","A#","B#&deg;","7#"],
            ["Cb","Db","Eb","Fb","Gb","Ab","Bb&deg;","7b"],
            ["Gb","Ab","Bb","Cb","Db","Eb","F&deg;", "6b"],
            ["Db","Eb","F", "Gb","Ab","Bb","C&deg;", "5b"],
            ["Ab","Bb","C", "Db","Eb","F", "G&deg;", "4b"],
            ["Eb","F", "G", "Ab","Bb","C", "D&deg;", "3b"],
            ["Bb","C", "D", "Eb","F", "G", "A&deg;", "2b"],
            ["F", "G", "A", "Bb","C", "D", "E&deg;", "1b"]
        ];
        
        const intervals = [
            ["1","2","3","4","5","6","7&deg;","8","9","10","11","12","13","14&deg;"],
            ["I","ii","iii","IV","V","vi","vii&deg;","VIII","ix","x","XI","XII","xiii","ivx&deg;"],
            ["M","m","m","M","M","m","m","M","m","m","M","M","m","m"]
        ]

        function playArr() {
            document.getElementById("tC0").innerHTML = majors[multiplier][0];
            document.getElementById("tC1").innerHTML = majors[multiplier][1];
            document.getElementById("tC2").innerHTML = majors[multiplier][2];
            document.getElementById("tC3").innerHTML = majors[multiplier][3];
            document.getElementById("tC4").innerHTML = majors[multiplier][4];
            document.getElementById("tC5").innerHTML = majors[multiplier][5];
            document.getElementById("tC6").innerHTML = majors[multiplier][6];
            document.getElementById("tC7").innerHTML = majors[multiplier][0];
            document.getElementById("tC8").innerHTML = majors[multiplier][1];
            document.getElementById("tC9").innerHTML = majors[multiplier][2];
            document.getElementById("tC10").innerHTML = majors[multiplier][3];
            document.getElementById("tC11").innerHTML = majors[multiplier][4];
            document.getElementById("tC12").innerHTML = majors[multiplier][5];
            document.getElementById("tC13").innerHTML = majors[multiplier][6];
            document.getElementById("tC14").innerHTML = majors[multiplier][7];
        }

        /* Function to Rotate CW or CC thru Major Keys */
        function rotator(id) {
            /* Alias to manipulate the text display at the center */
            //var tC14 = document.getElementById("tC14")

            /* If clockwise button is clicked add 1 to multiplier, else if counter-clockwise button is clicked subtract 1. */
            if (id == "CW") { multiplier -= 1; } else if (id == "CC") { multiplier += 1; }

            /* Reset multiplier when the first note is reached going clockwise */
            if (id == "CC" && multiplier > 14) { multiplier = 0; }

            /* Reset multiplier when the first note is reached going counter-clockwise */
            if (id == "CW" && multiplier < 0) { multiplier = 14; }

            /* Display the number in the center */
            //tC14.innerHTML = majors[multiplier][7];

            /* Rotate the needle
                var needle = document.getElementById("needle") // Alias to manipulate the needle
                needle.setAttribute("transform", "rotate(" + degrees * multiplier + ",200,200)");
            */

            playArr()
        }
        
    </script>

</body>

</html>
